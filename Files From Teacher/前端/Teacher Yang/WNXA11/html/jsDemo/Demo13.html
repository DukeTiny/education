<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script>
			function checkEmail(){
				var email = document.getElementById("email").value;
				//不能为空
				if(email.length==0){
					alert("不能为空");
					window.location.reload();
					return;
				}
				//检查字符串中是否存在@和.
				var index1 = email.indexOf("@");
				var index2 = email.lastIndexOf(".");
				if(index1 == -1 || index2 == -1){
					alert("没有关键字符");
					window.location.reload();
					return;
				}
				
				var count = 0;
				for(var i=0;i<email.length;i++){
					if(email[i] == "@"){
						count++;
					}
				}
				
				//判断后3位是否是com
				
				if(count>1 || index1>index2){
					alert("不符合格式");
					window.location.reload();
					return;
				}
				
				if(email.substring(index2+1) != "com"){
					alert("不符合格式");
					window.location.reload();
					return;
				}
				
				var str = email.substring(index1+1,index2);
				switch(str){
					case "qq":
						alert("qq邮箱");
					break;
					case "126":
						alert("qq邮箱");
					break;
					case "sina":
						alert("qq邮箱");
					break;
					case "163":
						alert("qq邮箱");
					break;
					default:
						alert("不确定的类型");
					break;
				}
			}
		</script>
	</head>

	<body>
		邮箱：<input type="text" id="email"  />
		<input type="button" value="检查格式" onclick="checkEmail();">
	</body>

</html>